import type { FlashcardDefinition } from "@/types/flashcard";

export const quantumThreatFlashcards: readonly FlashcardDefinition[] = [
  {
    id: "qt-fc1",
    topicId: "quantum-threat",
    front: "量子ビット（qubit）の状態はどう表現されるか？",
    back: "|ψ⟩ = α|0⟩ + β|1⟩\nα, βは複素数の確率振幅で |α|² + |β|² = 1 を満たす。測定するとα²の確率で0、β²の確率で1が得られ、重ね合わせ状態は崩壊する。",
    tags: ["qubit", "superposition", "basics"],
    relatedLessonId: "qt-lesson-1",
  },
  {
    id: "qt-fc2",
    topicId: "quantum-threat",
    front: "重ね合わせ（Superposition）とは？",
    back: "量子ビットが0と1の線形結合状態を取る性質。n量子ビットで2ⁿ個の状態を同時に表現可能。ただし「同時に計算できる」のではなく、量子干渉と組み合わせてアルゴリズムとして活用する。",
    tags: ["superposition", "basics"],
    relatedLessonId: "qt-lesson-1",
  },
  {
    id: "qt-fc3",
    topicId: "quantum-threat",
    front: "量子もつれ（Entanglement）とは？",
    back: "2つ以上の量子ビットが非古典的に相関した状態。一方を測定すると他方の状態が瞬時に確定する。量子アルゴリズムの並列性の鍵であり、古典コンピュータでは再現できない性質。",
    tags: ["entanglement", "basics"],
    relatedLessonId: "qt-lesson-1",
  },
  {
    id: "qt-fc4",
    topicId: "quantum-threat",
    front: "量子干渉（Quantum Interference）とは？",
    back: "確率振幅の建設的・破壊的干渉を利用する手法。正しい答えの確率を増幅し、誤った答えの確率を減少させる。Groverの振幅増幅やShorのQFTで活用される。量子アルゴリズムの高速性の本質。",
    tags: ["interference", "basics"],
    relatedLessonId: "qt-lesson-1",
  },
  {
    id: "qt-fc5",
    topicId: "quantum-threat",
    front: "Shorのアルゴリズムとは？何を破るか？",
    back: "1994年Peter Shor発表。整数の素因数分解と離散対数問題をO((log N)³)の多項式時間で解く量子アルゴリズム。\n破られる: RSA, DH, ECDH, ECDSA, DSA, ElGamal\n核心: 周期発見問題への帰着 + 量子フーリエ変換（QFT）",
    tags: ["shor", "algorithm", "quantum-threat"],
    relatedLessonId: "qt-lesson-2",
  },
  {
    id: "qt-fc6",
    topicId: "quantum-threat",
    front: "Shorのアルゴリズムの計算量は？古典と比較すると？",
    back: "Shor: O((log N)³) — 多項式時間\n古典最良（一般数体篩法）: O(exp((log N)^(1/3))) — 準指数時間\n\n→ 指数関数的な高速化。RSA-2048は古典では宇宙年齢でも解けないが、十分な量子コンピュータでは数時間で解ける可能性。",
    tags: ["shor", "complexity"],
    relatedLessonId: "qt-lesson-2",
  },
  {
    id: "qt-fc7",
    topicId: "quantum-threat",
    front: "RSA-2048を破るのに必要な量子ビット数は？",
    back: "論理量子ビット: 約4,000〜20,000（推定により幅あり）\n物理量子ビット: 数百万（誤り訂正のオーバーヘッド含む）\n\n2025年時点で最大約1,000物理量子ビット。まだ不十分だが技術は急速に進歩中。",
    tags: ["shor", "RSA", "qubit-count"],
    relatedLessonId: "qt-lesson-2",
  },
  {
    id: "qt-fc8",
    topicId: "quantum-threat",
    front: "論理量子ビットと物理量子ビットの違いは？",
    back: "物理量子ビット: 実際のハードウェア上の量子ビット。ノイズや誤りが発生する。\n論理量子ビット: 量子誤り訂正符号で保護された「完全な」量子ビット。1論理量子ビットに数千の物理量子ビットが必要。\nShorの議論では論理量子ビット数で語られる。",
    tags: ["qubit", "error-correction"],
    relatedLessonId: "qt-lesson-2",
  },
  {
    id: "qt-fc9",
    topicId: "quantum-threat",
    front: "Groverのアルゴリズムとは？暗号への影響は？",
    back: "1996年Lov Grover発表。N要素の非構造的探索をO(√N)で実行する量子アルゴリズム。\n影響: 対称鍵暗号の鍵空間が平方根に縮小（AES-256→128ビット相当）。\n対策: 鍵長を2倍にすれば対応可能（AES-128→AES-256）。Shorほど深刻ではない。",
    tags: ["grover", "algorithm", "symmetric"],
    relatedLessonId: "qt-lesson-3",
  },
  {
    id: "qt-fc10",
    topicId: "quantum-threat",
    front: "Groverのアルゴリズムの最適性とは？",
    back: "Groverの二乗根高速化O(√N)は、証明された下界（最適値）。量子コンピュータでもこれ以上の高速化は不可能。つまり対称鍵暗号は鍵長を2倍にすれば量子耐性を永続的に確保できる。",
    tags: ["grover", "optimality"],
    relatedLessonId: "qt-lesson-3",
  },
  {
    id: "qt-fc11",
    topicId: "quantum-threat",
    front: "量子コンピュータで完全に破壊される暗号方式は？",
    back: "RSA（全鍵長）、Diffie-Hellman / ECDH、ECDSA / DSA / EdDSA、ElGamal。\nすべてShorのアルゴリズムで多項式時間に破られる。鍵長を増やしても対策不可。根本的にPQCアルゴリズムへの置き換えが必要。",
    tags: ["quantum-vulnerable", "shor", "overview"],
    relatedLessonId: "qt-lesson-4",
  },
  {
    id: "qt-fc12",
    topicId: "quantum-threat",
    front: "CRQC（暗号学的に意味のある量子コンピュータ）とは？",
    back: "Cryptographically Relevant Quantum Computer。RSA-2048やECC P-256を実際に破れる規模の量子コンピュータ。2030年代後半の出現が予想される。CRQCの出現前に移行を完了する必要がある。",
    tags: ["CRQC", "timeline"],
    relatedLessonId: "qt-lesson-4",
  },
  {
    id: "qt-fc13",
    topicId: "quantum-threat",
    front: "PQC移行タイムラインの概要は？",
    back: "2025-26: PQC標準確定、移行計画策定開始\n2027-30: 早期導入者が移行完了\n2030-35: NIST非推奨化、大規模移行期\n2030年代後半〜: CRQC出現の可能性\n\n大規模システムの移行には5-10年。「まだ早い」は通用しない。",
    tags: ["timeline", "migration"],
    relatedLessonId: "qt-lesson-4",
  },
  {
    id: "qt-fc14",
    topicId: "quantum-threat",
    front: "TLS通信が量子コンピュータで破られるメカニズムは？",
    back: "鍵交換（ECDH）がShorで破られる → AESの共通鍵が漏洩 → 通信全体が解読可能に。\nAES自体は量子耐性があるが、鍵交換が破られると意味がない。署名（ECDSA）も偽造可能になり、中間者攻撃が成立する。",
    tags: ["TLS", "attack-mechanism"],
    relatedLessonId: "qt-lesson-4",
  },
  {
    id: "qt-fc15",
    topicId: "quantum-threat",
    front: "暗号インベントリとは？なぜPQC移行の第一歩なのか？",
    back: "組織内で使用されている全暗号方式、プロトコル、証明書、鍵の棚卸し。\nPQC移行では「何を」「どこで」「なぜ」使っているかを把握しないと移行計画が立てられない。特にレガシーシステムに埋もれた暗号使用の発見が重要。",
    tags: ["inventory", "migration", "consulting"],
    relatedLessonId: "qt-lesson-4",
  },
] as const satisfies readonly FlashcardDefinition[];
