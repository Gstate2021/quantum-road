import type { FlashcardDefinition } from "@/types/flashcard";

export const quantumAlgorithmsFlashcards: readonly FlashcardDefinition[] = [
  {
    id: "qa-fc1",
    topicId: "quantum-algorithms",
    front: "Shorのアルゴリズムの量子回路構成は？",
    back: "1. 第1レジスタに Hadamard → 均等重ね合わせ\n2. U_f: aˣ mod N を量子的に計算\n3. 逆QFT（QFT†）で周期情報を抽出\n4. 測定 + 連分数展開で周期 r を復元\n\n必要量子ビット: 約2n（n = log₂N）\nゲート数: O(n³)",
    tags: ["shor", "circuit", "QFT"],
    relatedLessonId: "qa-lesson-1",
  },
  {
    id: "qa-fc2",
    topicId: "quantum-algorithms",
    front: "RSA-2048を破るのに必要な量子リソースの推定値は？",
    back: "論理量子ビット: 約4,000〜20,000\n物理量子ビット: 約2,000万（表面符号、エラー率10⁻³想定）\n実行時間: 約8時間\nTゲート数: 約10¹²\n\nGidney & Ekera（2021）の最適化による推定。現在のハードウェアとは数桁の差がある。",
    tags: ["shor", "RSA", "resource-estimation"],
    relatedLessonId: "qa-lesson-1",
  },
  {
    id: "qa-fc3",
    topicId: "quantum-algorithms",
    front: "Grover反復の幾何学的解釈は？",
    back: "Bloch球上で |w⟩（ターゲット）と |w⊥⟩ の2軸を考える。\n初期状態は |w⟩ と角度 θ/2 ≈ 1/√N。\n各反復で角度 θ ずつ回転。\nk回後の角度: (2k+1)θ/2。\n最適回数: π/(4θ) ≈ π√N/4。\n超えると過回転（ターゲットから遠ざかる）。",
    tags: ["grover", "geometry", "overshooting"],
    relatedLessonId: "qa-lesson-2",
  },
  {
    id: "qa-fc4",
    topicId: "quantum-algorithms",
    front: "Groverの暗号への具体的影響は？",
    back: "AES-128: 2¹²⁸→2⁶⁴回 → 安全でない\nAES-256: 2²⁵⁶→2¹²⁸回 → 安全\nSHA-256原像: 2²⁵⁶→2¹²⁸ → 安全\nSHA-256衝突: 2¹²⁸→2⁸⁵程度（BHT）→ やや弱体化\n\n実際にはGroverの回路が深すぎてノイズの影響が大きく、理論値ほどの高速化は得られない可能性あり。",
    tags: ["grover", "AES", "SHA", "impact"],
    relatedLessonId: "qa-lesson-2",
  },
  {
    id: "qa-fc5",
    topicId: "quantum-algorithms",
    front: "QAOAの構造と動作原理は？",
    back: "構造: 古典最適化器 + パラメータ付き量子回路（p層）\n各層: U_C(γ)コスト回転 → U_B(β)混合回転\n\n動作:\n1. |+⟩⊗ⁿ に初期化\n2. p層の U_C(γ)U_B(β) を適用\n3. 測定しコスト関数値を計算\n4. 古典最適化器で γ,β を更新\n5. 収束まで繰り返し\n\nNISQデバイス向け。p=1〜5が実用的。",
    tags: ["QAOA", "variational", "hybrid"],
    relatedLessonId: "qa-lesson-3",
  },
  {
    id: "qa-fc6",
    topicId: "quantum-algorithms",
    front: "NISQとは？代表的なNISQアルゴリズムは？",
    back: "NISQ = Noisy Intermediate-Scale Quantum\nノイズのある中規模量子コンピュータの時代（50〜数千量子ビット、誤り訂正なし）。\n\n代表的アルゴリズム:\n- QAOA: 組合せ最適化\n- VQE: 量子化学計算\n- 量子機械学習（QML）\n\nいずれも変分量子アルゴリズム（量子・古典ハイブリッド）。",
    tags: ["NISQ", "variational", "overview"],
    relatedLessonId: "qa-lesson-3",
  },
  {
    id: "qa-fc7",
    topicId: "quantum-algorithms",
    front: "VQEの構造と目的は？",
    back: "目的: ハミルトニアン H の基底状態エネルギー E₀ を求める\n原理: 変分原理 ⟨ψ(θ)|H|ψ(θ)⟩ ≥ E₀\n\n構造:\n1. パラメータ付き量子回路（Ansatz）で |ψ(θ)⟩ を生成\n2. H の各項を異なる基底で測定\n3. ⟨H⟩ = Σcᵢ⟨Pᵢ⟩ を古典計算\n4. 古典最適化器で θ を更新\n\n応用: 創薬、材料科学、化学反応シミュレーション",
    tags: ["VQE", "variational", "chemistry"],
    relatedLessonId: "qa-lesson-4",
  },
  {
    id: "qa-fc8",
    topicId: "quantum-algorithms",
    front: "Ansatz（アンザッツ）とは？主な種類は？",
    back: "VQEで使用するパラメータ付き量子回路（試行波動関数）。\n\n主な種類:\n- UCCSD: 化学的に意味のある構造、精度高いが回路が深い\n- Hardware-Efficient: ハードウェアの制約に合わせた浅い回路\n- ADAPT-VQE: 回路構造を適応的に構築\n\n課題: 表現力（精度）と実行可能性（回路深さ）のトレードオフ。",
    tags: ["VQE", "ansatz", "circuit-design"],
    relatedLessonId: "qa-lesson-4",
  },
  {
    id: "qa-fc9",
    topicId: "quantum-algorithms",
    front: "Barren Plateau問題とは？対策は？",
    back: "変分量子回路のパラメータ空間で勾配が指数関数的に小さくなり、最適化が困難になる問題。\n\n発生条件: 深い回路、ランダムな初期化、グローバルなコスト関数\n\n対策:\n- 浅い回路（レイヤー数を制限）\n- 構造化された初期化\n- ローカルなコスト関数\n- ADAPT-VQE（回路を段階的に構築）",
    tags: ["barren-plateau", "VQE", "optimization"],
    relatedLessonId: "qa-lesson-4",
  },
  {
    id: "qa-fc10",
    topicId: "quantum-algorithms",
    front: "量子アルゴリズムの分類: フォールトトレラント vs NISQ",
    back: "フォールトトレラント（誤り訂正付き）:\n- Shor: 素因数分解 → O(n³)\n- Grover: 探索 → O(√N)\n- 量子位相推定（QPE）\n→ 数百万物理量子ビットが必要\n\nNISQ（誤り訂正なし）:\n- QAOA: 組合せ最適化\n- VQE: 量子化学\n- 量子機械学習\n→ 50〜数千量子ビットで動作、ノイズが課題",
    tags: ["classification", "fault-tolerant", "NISQ"],
    relatedLessonId: "qa-lesson-3",
  },
  {
    id: "qa-fc11",
    topicId: "quantum-algorithms",
    front: "QFT（量子フーリエ変換）の計算量は？古典DFTとの比較は？",
    back: "QFT: O(n²) 量子ゲート（n = 量子ビット数）\n古典DFT: O(n × 2ⁿ)（素朴な実装）\n古典FFT: O(n × 2ⁿ)（Cooley-Tukey）\n\nQFTは指数関数的に高速だが、出力が量子状態であるため直接読み出せない。Shorのように周期情報の抽出に使うことで間接的に活用する。",
    tags: ["QFT", "complexity", "comparison"],
    relatedLessonId: "qa-lesson-1",
  },
  {
    id: "qa-fc12",
    topicId: "quantum-algorithms",
    front: "量子アルゴリズムの現実的な位置づけ（コンサルティング視点）",
    back: "Shor/Grover: 暗号への脅威として理解必須、CRQCまでは理論的脅威\nQAOA: 組合せ最適化への応用が期待されるが、現時点で古典を超える実証なし\nVQE: 量子化学への応用が最有力だが、まだ小分子レベル\n\n→ クライアントには「PQC移行は確実に必要（Shor）」「最適化応用は将来有望だが時期尚早」と伝える。",
    tags: ["consulting", "practical", "overview"],
    relatedLessonId: "qa-lesson-4",
  },
] as const satisfies readonly FlashcardDefinition[];
