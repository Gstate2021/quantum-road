import type { FlashcardDefinition } from "@/types/flashcard";

export const quantumInspiredOptimizationFlashcards: readonly FlashcardDefinition[] = [
  {
    id: "qi-opt-fc1",
    topicId: "quantum-inspired-optimization",
    front: "シミュレーテッドアニーリング（SA）の3つのチューニングポイントは？",
    back: "1. 初期温度: ランダムな解変更の80%が受け入れられる温度が目安\n2. 冷却スケジュール: 幾何冷却（T×alpha）、適応的冷却、再加熱\n3. 近傍関数: 問題固有の設計が最重要。TSP→2-opt/3-opt、スケジューリング→スワップ/挿入",
    tags: ["optimization", "sa", "tuning"],
    relatedLessonId: "qi-opt-lesson1",
  },
  {
    id: "qi-opt-fc2",
    topicId: "quantum-inspired-optimization",
    front: "SAと量子アニーリングの違いは？",
    back: "SA: 熱的揺らぎ（ボルツマン確率）で局所最適解を脱出\n量子アニーリング: 量子トンネル効果でポテンシャル障壁を通り抜ける\n\nSAはエネルギー障壁を「乗り越える」のに対し、量子アニーリングは障壁を「トンネルで通り抜ける」。理論的には量子の方が高い障壁を超えやすい。",
    tags: ["optimization", "sa", "quantum-annealing"],
    relatedLessonId: "qi-opt-lesson1",
  },
  {
    id: "qi-opt-fc3",
    topicId: "quantum-inspired-optimization",
    front: "Simulated Bifurcation（SB）の特徴と3つのバリアントは？",
    back: "東芝開発。古典力学の分岐現象をシミュレート。行列-ベクトル積による超並列性でGPUとの相性が極めて良い。\n\nバリアント:\n・aSB (adiabatic): 基本形、断熱的に分岐\n・bSB (ballistic): 運動項追加で局所最適解脱出を強化\n・dSB (discrete): 変数を離散化、実用上最高速",
    tags: ["optimization", "sb", "quantum-inspired"],
    relatedLessonId: "qi-opt-lesson2",
  },
  {
    id: "qi-opt-fc4",
    topicId: "quantum-inspired-optimization",
    front: "量子インスパイアード手法を選択するガイドラインは？",
    back: "・大規模QUBO + GPU → Simulated Bifurcation (dSB)\n・ポートフォリオ → SB (bSB)（二次形式と自然に適合）\n・中規模のTSP/スケジューリング → QIEA（進化的手法）\n・小規模（数百変数以下） → QAOA-Inspired（テンソルネットワーク）\n・上記に該当しない → SA + 問題固有の近傍設計",
    tags: ["optimization", "selection", "quantum-inspired"],
    relatedLessonId: "qi-opt-lesson2",
  },
  {
    id: "qi-opt-fc5",
    topicId: "quantum-inspired-optimization",
    front: "QIEA（量子インスパイアード進化アルゴリズム）の仕組みは？",
    back: "・各個体を量子ビットの確率振幅ベクトルで表現\n・観測操作で古典的な解を生成\n・回転ゲートの角度を適応的に調整して探索空間を絞り込む\n・選択・交叉・突然変異に相当する量子的操作を適用\n・従来GAより収束速度が速い（ナップサック問題等で実証）",
    tags: ["optimization", "qiea", "quantum-inspired"],
    relatedLessonId: "qi-opt-lesson2",
  },
  {
    id: "qi-opt-fc6",
    topicId: "quantum-inspired-optimization",
    front: "物流最適化（VRP）のQUBO定式化パターンは？",
    back: "変数: x_{v,i,k} ∈ {0,1}（車両vが順序iで地点kを訪問）\n目的: Σ distance(k,l) × x_{v,i,k} × x_{v,i+1,l} を最小化\nペナルティ項:\n・各地点は1回だけ訪問\n・車両ごとの容量制約\n・時間窓制約\n\n大規模時はエリア分割でサブ問題化 → GPU並列求解",
    tags: ["optimization", "logistics", "qubo"],
    relatedLessonId: "qi-opt-lesson3",
  },
  {
    id: "qi-opt-fc7",
    topicId: "quantum-inspired-optimization",
    front: "ポートフォリオ最適化のQUBO定式化パターンは？",
    back: "Markowitz型:\n変数: x_i ∈ {0,1}（銘柄iを選択するか）\n目的: -λ₁ Σ r_i × x_i + λ₂ ΣΣ σ_ij × x_i × x_j を最小化\n（リターン最大化 + リスク最小化の重み付き和）\nペナルティ: 選択銘柄数の制約\n\nλのパレートフロンティア走査で多数の候補を高速生成。SBの得意領域。",
    tags: ["optimization", "portfolio", "qubo"],
    relatedLessonId: "qi-opt-lesson3",
  },
  {
    id: "qi-opt-fc8",
    topicId: "quantum-inspired-optimization",
    front: "実案件で成功するための3原則は？",
    back: "原則1: 問題分割 — 大規模問題を地理的/時間的/階層的にサブ問題に分解\n原則2: ベンチマーク比較 — 古典ソルバー・古典ヒューリスティクス・QI手法を同一条件で公平に比較\n原則3: 段階的導入 — バックテスト → シャドーモード（並行稼働）→ 本番切替",
    tags: ["optimization", "deployment", "methodology"],
    relatedLessonId: "qi-opt-lesson3",
  },
  {
    id: "qi-opt-fc9",
    topicId: "quantum-inspired-optimization",
    front: "量子インスパイアード手法の限界は？",
    back: "・「銀の弾丸」ではない — すべての問題で古典ヒューリスティクスを上回るわけではない\n・問題の構造（変数間の結合度、制約の疎密）で性能差が変わる\n・QUBO変換のオーバーヘッドが大きい問題には不向き\n・ベンチマーク比較なしに手法を推奨してはならない\n・Cherry-pickingされた結果は顧客の信頼を損なう",
    tags: ["optimization", "limitations", "honesty"],
    relatedLessonId: "qi-opt-lesson3",
  },
  {
    id: "qi-opt-fc10",
    topicId: "quantum-inspired-optimization",
    front: "スケジューリング問題のQUBO定式化パターンは？",
    back: "変数: x_{j,l,t} ∈ {0,1}（ジョブjをラインlで時刻tに開始）\n目的: メイクスパン（全ジョブ完了時間）の最小化\nペナルティ項:\n・各ジョブは1回だけ実行\n・ライン容量制約\n・ジョブ間の前後関係制約\n\n適用手法: QIEA + 局所探索のハイブリッド。制約充足率を適応的に監視。",
    tags: ["optimization", "scheduling", "qubo"],
    relatedLessonId: "qi-opt-lesson3",
  },
] as const satisfies readonly FlashcardDefinition[];
